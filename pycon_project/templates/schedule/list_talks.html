{% extends "schedule/base.html" %}

{% block extra_head %}
    <style>
        .session {
            margin-top: 10px;
        }
        .title {
            font-size: 14pt;
            font-weight: bold;
        }
    </style>
{% endblock %}

{% block subnav %}
    <a href="{% url schedule_list_talks %}">List of Accepted Talks and Panels</a>
    |
    <a href="{% url schedule_list_tutorials %}">List of Accepted Tutorials</a>
{% endblock %}

{% block body %}
    <h1>Accepted Talks and Panels</h1>
    
    <div class="badges legend">
        <div class="badge extreme">E</div><div class="label"> = EXTREME PyCon</div>
        <div class="clear"></div>
        <div class="badge invited">I</div><div class="label"> = Invited</div>
    </div>
    
    {# @@@ this is currently based on proposal object data but needs to be changed to a schedule.Session #}
    {% for talk in talks %}
        <div class="session">
            <div class="title">
                <a href="{% url schedule_session talk.proposal.pk %}">{{ talk.proposal.title }}</a>
            </div>
            <div class="metadata">
                {{ talk.proposal.get_audience_level_display }}
                {{ talk.proposal.get_session_type_display }}
                by
                {{ talk.proposal.speaker }}
                {% if talk.proposal.additional_speakers.all %}
                    with
                    {{ talk.proposal.additional_speakers.all|join:", " }}
                {% endif %}
                <div class="badges">
                    {% if talk.proposal.extreme_pycon %}
                        <div class="badge extreme">E</div>
                    {% endif %}
                    {% if talk.proposal.invited %}
                        <div class="badge invited">I</div>
                    {% endif %}
                    <div class="clear"></div>
                </div>
            </div>
        </div>
    {% empty %}
        <p>No accepted talks or panels yet.</p>
    {% endfor %}
    
{% endblock %}