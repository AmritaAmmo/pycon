{% extends "site_base.html" %}

{% block body_class %}speaker{% endblock %}

{% block subnav %}
    <p><a href="{% url speaker_edit %}">Edit your speaker profile</a></p>
{% endblock %}

{% block body %}
    <h1>Speakers</h1>
    
    <p>
        Talk proposals will be accepted until <b>July 10th</b> and accepted talks will be announced by <b>July 25th</b>.
        For more information see the blog post <a href="/blog/2010/05/18/talk-submissions-are-open/">Talk Submissions are Open</a>.
    </p>
    
    <p>To submit a talk:</p>
    
    <ol class="steps">
        <li class="done">sign up and log in</li>
        <li class="done">create a speaker profile</li>
        <li class="next"><a href="{% url proposal_submit %}">{{ proposal_text }}</a></li>
    </ol>
    
    <p>You will be able to come back and revise your submission until the deadline.
        Remember that speakers must register and pay to attend the conference.</p>
    
    <h2>Proposals</h2>
    
    {% if proposals %}
        <table class="proposals">
            <tr>
                <th>Title</th>
                <th>Session type</th>
                <th>Audience level</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
            {% for proposal in proposals %}
            <tr>
                <td><a href="{% url proposal_detail proposal.pk %}">{{ proposal.title }}</a></td>
                <td>{{ proposal.get_session_type_display }}</td>
                <td>{{ proposal.get_audience_level_display }}</td>
                <td>{% if proposal.cancelled %}Cancelled{% else %}{% if request.user == proposal.speaker.user %}Submitted{% else %}Associated{% endif %}{% endif %}</td>
                <td>{% if not proposal.cancelled %}{% if request.user == proposal.speaker.user %}<a href="{% url proposal_edit proposal.pk %}">Edit</a>{% endif %}{% if request.user == proposal.speaker.user %} | <a href="{% url proposal_cancel proposal.pk %}">Cancel</a>{% else %}<a href="{% url proposal_leave proposal.pk %}">Leave</a>{% endif %}{% endif %}</td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>No proposals. You can <a href="{% url proposal_submit %}">submit one</a> now!</p>
    {% endif %}
    
{% endblock %}