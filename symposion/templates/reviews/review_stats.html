{% extends "reviews/base.html" %}

{% block body %}
    <h1>Proposal Review Stats</h1>

    {% if key %}
        <div class="breadcrumbs"><a href="{% url review_stats section_slug %}">See all proposal review stats</a></div>
        <div>
            {% if key == "good" %}
                <h3>Good ({{ good_proposals|length }})</h3>
                <div class="stat-def">proposals with at least one +1 and no &minus;1s</div>
            {% endif %}
            {% if key == "bad" %}
                <h3>Bad ({{ bad_proposals|length }})</h3>
                <div class="stat-def">proposals with at least one &minus;1 and no +1s</div>
            {% endif %}
            {% if key == "indifferent" %}
                <h3>Indifferent ({{ indifferent_proposals|length }})</h3>
                <div class="stat-def">proposals with neither a +1 or a &minus;1</div>
            {% endif %}
            {% if key == "controversial" %}
                <h3>Controversial ({{ controversial_proposals|length }})</h3>
                <div class="stat-def">proposals with both a +1 and &minus;1</div>
            {% endif %}

            {% include "reviews/_review_table.html" %}

        </div>
    {% else %}
        <b>Proposals</b>:
            <a href="{% url review_stats section_slug "good" %}">Good</a> <span class="badge">{{ proposals.good.count }}</span> |
            <a href="{% url review_stats section_slug "bad" %}">Bad</a> <span class="badge">{{ proposals.bad.count }}</span> |
            <a href="{% url review_stats section_slug "indifferent" %}">Indifferent</a> <span class="badge">{{ proposals.indifferent.count }}</span> |
            <a href="{% url review_stats section_slug "controversial" %}">Controversial</a> <span class="badge">{{ proposals.controversial.count }}</span>
    {% endif %}

{% endblock %}