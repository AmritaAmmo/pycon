{% extends "site_base.html" %}

{% load i18n %}
{% load bootstrap_tags %}
{% load boxes_tags %}
{% load cache %}
{% load sitetree %}

{% block head_title %}{{ schedule.section.name }}{% blocktrans %} Schedule{% endblocktrans %}{% endblock %}

{% block page_title %}
        {{ schedule.section.name }}{% blocktrans %} Schedule{% endblocktrans %}
{% endblock %}

{% block breadcrumbs %}{% sitetree_breadcrumbs from "main" %}{% endblock %}


{% comment %}
  The schedule page is non-responsive. But since the schedule has gotten
  steadily wider (more rooms added), the limited width of the table has
  started to cause problems. By closing/re-opening the page-content and
  content divs, we can create a section of the page that is not bound to the
  standard width.
{% endcomment %}

{% block extra_style %}
  <style>
    .page-content {
      min-height: initial;
    }
    .page-content#lower-content {
      margin-top: 0;
    }
  </style>
{% endblock extra_style %}

{% block page_content %}
      <div class="container">
        {% box "schedule_top_"|add:schedule.section.name|slugify %}
      </div>
    </div> <!-- end .page-content -->
  </div> <!-- end .content -->

  <div class="container" style="width: 90%; margin: 0 5%;">
    {% cache 600 "schedule-table" schedule.section %}
      {% for timetable in days %}
        <h3>{{ timetable.day.date }}</h3>
        {% include "schedule/_grid.html" %}
      {% endfor %}
    {% endcache %}
  </div>

  <div class="content">
    <div class="page-content" id="lower-content">
      <div class="container">
        {% box "schedule_bottom_"|add:schedule.section.name|slugify %}
      </div>
{% endblock %}
